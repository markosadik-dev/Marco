<!doctype html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#f4f2ef" />
  <title>Marco & Martha — Invitation</title>

  <style>
    :root{
      --card:#ffffffcc;
      --ink:#1f1f1f;
      --muted:#6b6b6b;
      --accent:#c7b08b;
      --stroke:#e7e2da;
      --radius:24px;
      --shadow: 0 18px 55px rgba(0,0,0,.10);
      --shadow2: 0 10px 25px rgba(0,0,0,.08);
    }

    *{box-sizing:border-box}
    html,body{height:100%}

    /* ===== Background image + blur ===== */
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--ink);
      background:#f4f2ef;
      position:relative;
      overflow:auto;
    }
    body::before{
      content:"";
      position:fixed; inset:0;
      background-image:url('https://i.postimg.cc/DZthvxcZ/92f685f7-1de6-4c9d-acd6-42ce4990e943.jpg');
      background-size:cover;
      background-position:center;
      filter: blur(18px);
      transform: scale(1.15);
      opacity:.30;
      z-index:-2;
    }
    body::after{
      content:"";
      position:fixed; inset:0;
      background: radial-gradient(900px 600px at 20% 0%, rgba(255,255,255,.85), transparent 55%),
                  radial-gradient(900px 600px at 80% 20%, rgba(255,255,255,.80), transparent 55%),
                  linear-gradient(180deg, rgba(246,244,241,.90), rgba(239,234,227,.92));
      z-index:-1;
    }

    .wrap{
      min-height:100%;
      padding: env(safe-area-inset-top) 0 env(safe-area-inset-bottom);
      display:flex;
      flex-direction:column;
    }

    /* Top bar */
    .topbar{
      position:sticky;
      top:0;
      z-index:20;
      padding:14px 18px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      background: rgba(255,255,255,.55);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(231,226,218,.7);
    }
    .brand{display:flex; align-items:center; gap:10px; letter-spacing:.5px;}
    .seal{
      width:34px;height:34px;border-radius:999px;
      border:1px solid var(--stroke);
      background: linear-gradient(180deg,#fff, #f7f2ea);
      display:grid; place-items:center;
      box-shadow: var(--shadow2);
      font-weight:700;
      color:var(--accent);
      font-family: "Georgia", serif;
    }
    .pill{
      border:1px solid var(--stroke);
      background:#ffffffa8;
      padding:8px 12px;
      border-radius:999px;
      font-size:12px;
      color:var(--muted);
      box-shadow: 0 8px 18px rgba(0,0,0,.05);
      backdrop-filter: blur(10px);
      white-space:nowrap;
    }
    .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Courier New", monospace;}

    /* Page layout (stacked sections) */
    main{
      width:100%;
      max-width: 920px;
      margin: 0 auto;
      padding: 18px;
      display:flex;
      flex-direction:column;
      gap:18px;
    }

    section.inv{
      scroll-margin-top: 90px; /* so sticky bar doesn't cover heading */
      display:flex;
      justify-content:center;
    }

    .card{
      width:min(560px, 96vw);
      background: var(--card);
      border:1px solid var(--stroke);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      backdrop-filter: blur(14px);
      overflow:hidden;
      position:relative;
    }
    .card::before{
      content:"";
      position:absolute; inset:-80px -120px auto auto;
      width:260px;height:260px;border-radius:999px;
      background: radial-gradient(circle at 30% 30%, #fff, rgba(199,176,139,.15) 40%, transparent 70%);
      transform: rotate(15deg);
      pointer-events:none;
    }

    .content{
      padding:22px 22px 20px;
      display:flex;
      flex-direction:column;
      gap:16px;
    }

    h1,h2,h3,p{margin:0}

    /* Cover image */
    .cover-image{
      width:100%;
      height:260px;
      border-radius:18px;
      background-image: url('https://i.postimg.cc/DZthvxcZ/92f685f7-1de6-4c9d-acd6-42ce4990e943.jpg');
      background-size: cover;
      background-position: center;
      position:relative;
      overflow:hidden;
      border:1px solid var(--stroke);
      box-shadow: 0 10px 22px rgba(0,0,0,.06);
    }
    .cover-image::after{
      content:"";
      position:absolute; inset:0;
      background: rgba(255,255,255,.20);
      backdrop-filter: blur(6px);
    }

    .title{
      text-align:center;
      display:flex;
      flex-direction:column;
      gap:8px;
    }
    .subtitle{
      color:var(--muted);
      font-size:13px;
      letter-spacing:.6px;
      text-transform: uppercase;
    }
    .names{
      font-family:"Georgia", "Times New Roman", serif;
      font-weight:700;
      font-size:40px;
      line-height:1.05;
      letter-spacing:.3px;
    }
    .amp{
      font-family:"Georgia", serif;
      color:var(--accent);
      font-size:20px;
      margin:2px 0 0;
    }
    .divider{
      width:120px;
      height:1px;
      background: linear-gradient(90deg, transparent, var(--stroke), transparent);
      margin: 8px auto 0;
    }
    .bigSeal{
      width:82px;height:82px;border-radius:999px;
      border:1px solid var(--stroke);
      background: linear-gradient(180deg,#fff, #f7f2ea);
      display:grid; place-items:center;
      box-shadow: var(--shadow2);
      margin: 6px auto 0;
      position:relative;
    }
    .bigSeal span{
      font-family:"Georgia", serif;
      font-weight:700;
      color:var(--accent);
      font-size:20px;
    }
    .bigSeal::after{
      content:"";
      position:absolute; inset:10px;
      border-radius:999px;
      border:1px dashed rgba(199,176,139,.55);
    }

    .quote{
      text-align:center;
      color:var(--muted);
      font-size:14px;
      line-height:1.7;
      padding: 0 8px;
    }

    .btnRow{
      margin-top:8px;
      display:flex;
      gap:10px;
      justify-content:center;
      flex-wrap:wrap;
    }
    .btn{
      cursor:pointer;
      border:1px solid var(--stroke);
      background:#fff;
      padding:12px 14px;
      border-radius:14px;
      font-size:13px;
      box-shadow: 0 10px 20px rgba(0,0,0,.06);
      transition: transform .12s ease, box-shadow .12s ease;
      color:var(--ink);
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      gap:10px;
      min-width: 170px;
      justify-content:center;
      user-select:none;
    }
    .btn:active{transform: translateY(1px); box-shadow: 0 8px 14px rgba(0,0,0,.06);}
    .btn.primary{
      background: linear-gradient(180deg,#ffffff, #fbf7f1);
      border-color: rgba(199,176,139,.6);
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap:12px;
      margin-top:6px;
    }
    .tile{
      border:1px solid var(--stroke);
      background:#ffffffb0;
      border-radius:18px;
      padding:14px;
      box-shadow: 0 10px 20px rgba(0,0,0,.05);
      min-height:92px;
      display:flex;
      flex-direction:column;
      justify-content:center;
      gap:6px;
      text-align:center;
    }
    .tile .k{font-size:11px; color:var(--muted); letter-spacing:.6px; text-transform: uppercase}
    .tile .v{font-size:18px; font-weight:700}
    .tile .s{font-size:12px; color:var(--muted)}

    .list{
      margin-top:6px;
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .row{
      display:flex;
      gap:12px;
      align-items:flex-start;
      border:1px solid var(--stroke);
      background:#ffffffb0;
      border-radius:18px;
      padding:12px 14px;
      box-shadow: 0 10px 20px rgba(0,0,0,.05);
    }
    .time{
      min-width:84px;
      font-weight:700;
      color:var(--accent);
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Courier New", monospace;
      font-size:13px;
      text-align:left;
      direction:ltr;
    }
    .desc{flex:1; display:flex; flex-direction:column; gap:2px;}
    .desc b{font-size:14px}
    .desc span{font-size:12px;color:var(--muted);line-height:1.6}

    .mapgrid{
      display:grid;
      grid-template-columns: 1fr;
      gap:12px;
      margin-top:8px;
    }
    .mapCard{
      border:1px solid var(--stroke);
      border-radius:18px;
      overflow:hidden;
      background:#fff;
      box-shadow: 0 10px 20px rgba(0,0,0,.05);
    }
    .mapHead{
      padding:10px 12px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      background: #fff;
      border-bottom:1px solid var(--stroke);
    }
    .mapHead b{font-size:13px}
    .mapHead span{font-size:12px; color:var(--muted)}
    .mapActions{display:flex; gap:8px; flex-wrap:wrap;}
    .miniBtn{
      border:1px solid var(--stroke);
      background:#ffffff;
      border-radius:12px;
      padding:8px 10px;
      font-size:12px;
      text-decoration:none;
      color:var(--ink);
      box-shadow: 0 8px 16px rgba(0,0,0,.05);
      white-space:nowrap;
    }
    iframe{border:0; width:100%; height:200px}

    /* Floating music button */
    .music-fab{
      position:fixed;
      right:14px;
      bottom:14px;
      z-index:50;
      display:flex;
      gap:10px;
      align-items:center;
    }
    .music-btn{
      border:1px solid var(--stroke);
      background:#ffffffd8;
      backdrop-filter: blur(10px);
      padding:12px 14px;
      border-radius:999px;
      box-shadow: 0 12px 26px rgba(0,0,0,.10);
      cursor:pointer;
      font-size:13px;
      color:var(--ink);
      display:flex;
      align-items:center;
      gap:10px;
      user-select:none;
    }
    .music-dot{width:9px;height:9px;border-radius:99px;background: rgba(0,0,0,.25);}
    .music-dot.on{ background: rgba(199,176,139,.95); }

    footer{
      text-align:center;
      color: rgba(107,107,107,.9);
      font-size:12px;
      padding: 8px 0 22px;
    }

    @media (max-width:420px){
      .names{font-size:34px}
      .btn{min-width:160px}
      .cover-image{height:220px}
    }
  </style>
</head>

<body>

<!-- ===== Music ===== -->
<audio id="bgm" loop preload="auto" crossorigin="anonymous">
  <source id="bgmSrc" src="" type="audio/mpeg">
</audio>

<div class="music-fab">
  <div class="music-btn" id="musicToggle" title="Play / Pause Music">
    <span class="music-dot" id="musicLed"></span>
    <span id="musicText">Play Music</span>
  </div>
</div>

<div class="wrap">
  <div class="topbar">
    <div class="brand">
      <div class="seal" id="miniSeal">M</div>
      <div class="pill" id="guestPill">Private Invitation</div>
    </div>
    <div class="pill mono" id="todayPill">—</div>
  </div>

  <main>

    <!-- SECTION 1: COVER -->
    <section class="inv" id="s1">
      <div class="card">
        <div class="content">
          <div class="cover-image"></div>

          <div class="title">
            <div class="subtitle">You are invited</div>
            <div class="names">Marco</div>
            <div class="amp">&</div>
            <div class="names">Martha</div>
            <div class="divider"></div>
            <div class="bigSeal"><span>M♥M</span></div>
          </div>

          <p class="quote">
            Together with their families, Marco and Martha invite you to celebrate their wedding.
          </p>

          <div class="btnRow">
            <a class="btn" id="btnAddCalendar" href="#" target="_blank" rel="noopener">Add to Calendar</a>
            <button class="btn primary" data-goto="s2">Next</button>
          </div>
        </div>
      </div>
    </section>

    <!-- SECTION 2: DETAILS -->
    <section class="inv" id="s2">
      <div class="card">
        <div class="content">
          <div class="title">
            <div class="subtitle">Details</div>
            <h2 style="text-align:center; font-family: Georgia, serif; font-size:26px;">The Wedding Day</h2>
            <div class="divider"></div>
          </div>

          <p class="quote">
            A formal celebration, and your presence would mean the world to us.
          </p>

          <div class="grid">
            <div class="tile">
              <div class="k">Date</div>
              <div class="v" id="dateText">—</div>
              <div class="s" id="dayText">—</div>
            </div>

            <div class="tile">
              <div class="k">Ceremony</div>
              <div class="v">5:00 PM</div>
              <div class="s">Church</div>
            </div>

            <div class="tile">
              <div class="k">Reception</div>
              <div class="v">6:30 PM</div>
              <div class="s">La Novia (Villa)</div>
            </div>

            <div class="tile">
              <div class="k">Dress Code</div>
              <div class="v">Formal</div>
              <div class="s">Kindly dress accordingly</div>
            </div>

            <div class="tile">
              <div class="k">Parking</div>
              <div class="v">Free Parking</div>
              <div class="s">Available at the venue</div>
            </div>
          </div>

          <div class="btnRow">
            <button class="btn" data-goto="s1">Back</button>
            <button class="btn primary" data-goto="s3">Next</button>
          </div>
        </div>
      </div>
    </section>

    <!-- SECTION 3: COUNTDOWN -->
    <section class="inv" id="s3">
      <div class="card">
        <div class="content">
          <div class="title">
            <div class="subtitle">Countdown</div>
            <h2 style="text-align:center; font-family: Georgia, serif; font-size:26px;">Until We Celebrate</h2>
            <div class="divider"></div>
          </div>

          <div class="grid">
            <div class="tile"><div class="k">Days</div><div class="v" id="dd">—</div><div class="s">Days</div></div>
            <div class="tile"><div class="k">Hours</div><div class="v" id="hh">—</div><div class="s">Hours</div></div>
            <div class="tile"><div class="k">Minutes</div><div class="v" id="mm">—</div><div class="s">Minutes</div></div>
            <div class="tile"><div class="k">Seconds</div><div class="v" id="ss">—</div><div class="s">Seconds</div></div>
          </div>

          <p class="quote">
            We cannot wait to celebrate with you.
          </p>

          <div class="btnRow">
            <button class="btn" data-goto="s2">Back</button>
            <button class="btn primary" data-goto="s4">Next</button>
          </div>
        </div>
      </div>
    </section>

    <!-- SECTION 4: SCHEDULE -->
    <section class="inv" id="s4">
      <div class="card">
        <div class="content">
          <div class="title">
            <div class="subtitle">Schedule</div>
            <h2 style="text-align:center; font-family: Georgia, serif; font-size:26px;">Order of Events</h2>
            <div class="divider"></div>
          </div>

          <div class="list" id="timeline"></div>

          <div class="btnRow">
            <button class="btn" data-goto="s3">Back</button>
            <button class="btn primary" data-goto="s5">Next</button>
          </div>
        </div>
      </div>
    </section>

    <!-- SECTION 5: LOCATIONS -->
    <section class="inv" id="s5">
      <div class="card">
        <div class="content">
          <div class="title">
            <div class="subtitle">Locations</div>
            <h2 style="text-align:center; font-family: Georgia, serif; font-size:26px;">Ceremony & Reception</h2>
            <div class="divider"></div>
          </div>

          <div class="mapgrid">
            <div class="mapCard">
              <div class="mapHead">
                <div>
                  <b>St. Anthony the Great Church — Zahraa El Maadi</b><br/>
                  <span>5:00 PM — Ceremony</span>
                </div>
                <div class="mapActions">
                  <a class="miniBtn" href="https://maps.app.goo.gl/3tpzk1J72SNa438aA" target="_blank" rel="noopener">Open in Google Maps</a>
                </div>
              </div>
              <iframe loading="lazy" referrerpolicy="no-referrer-when-downgrade"
                src="https://www.google.com/maps?q=St.%20Anthony%20the%20Great%20Church%20Zahraa%20El%20Maadi&output=embed"></iframe>
            </div>

            <div class="mapCard">
              <div class="mapHead">
                <div>
                  <b>La Novia wedding venue</b><br/>
                  <span>6:30 PM — Reception</span>
                </div>
                <div class="mapActions">
                  <a class="miniBtn" href="https://maps.app.goo.gl/HqVEuU17rrmYpFe8A" target="_blank" rel="noopener">Open in Google Maps</a>
                </div>
              </div>
              <iframe loading="lazy" referrerpolicy="no-referrer-when-downgrade"
                src="https://www.google.com/maps?q=La%20Novia%20wedding%20venue&output=embed"></iframe>
            </div>
          </div>

          <p class="quote">
            Formal attire is kindly requested.<br/>
            <b>Free parking is available at the venue.</b>
          </p>

          <div class="btnRow">
            <button class="btn" data-goto="s4">Back</button>
            <button class="btn primary" data-goto="s1">Back to Top</button>
          </div>
        </div>
      </div>
    </section>

    <footer>Marco & Martha — 24 January 2026</footer>
  </main>
</div>

<script>
/* =========================
   EDIT THESE ONLY
========================= */
const MUSIC_URL = ""; 
// Put a DIRECT MP3 link here (ends with .mp3), example:
// const MUSIC_URL = "https://yourdomain.com/song.mp3";

const EVENT_ISO = "2026-01-24T17:00:00+02:00"; // ceremony time (Cairo)

/* =========================
   Helpers
========================= */
const $ = (id)=>document.getElementById(id);
function pad(n){ return String(n).padStart(2,"0"); }

function formatDateParts(iso){
  const d = new Date(iso);
  const dayName = d.toLocaleDateString("en-GB",{weekday:"long"});
  const dateStr = d.toLocaleDateString("en-GB",{year:"numeric", month:"long", day:"numeric"});
  return { dayName, dateStr };
}

function buildCalendarLink(){
  const start = new Date(EVENT_ISO);
  const end = new Date(start.getTime() + 2*60*60*1000);
  const fmt = (dt)=>{
    const z = new Date(dt.getTime());
    return `${z.getUTCFullYear()}${pad(z.getUTCMonth()+1)}${pad(z.getUTCDate())}T${pad(z.getUTCHours())}${pad(z.getUTCMinutes())}${pad(z.getUTCSeconds())}Z`;
  };
  const text = encodeURIComponent("Marco & Martha Wedding");
  const details = encodeURIComponent("Wedding of Marco & Martha");
  const location = encodeURIComponent("St. Anthony the Great Church — Zahraa El Maadi / La Novia wedding venue");
  return `https://calendar.google.com/calendar/render?action=TEMPLATE&text=${text}&dates=${fmt(start)}/${fmt(end)}&details=${details}&location=${location}`;
}

function updateCountdown(){
  const target = new Date(EVENT_ISO).getTime();
  const now = Date.now();
  let diff = Math.max(0, target - now);

  const days = Math.floor(diff / (24*60*60*1000));
  diff -= days * (24*60*60*1000);
  const hours = Math.floor(diff / (60*60*1000));
  diff -= hours * (60*60*1000);
  const mins = Math.floor(diff / (60*1000));
  diff -= mins * (60*1000);
  const secs = Math.floor(diff / 1000);

  $("dd").textContent = days;
  $("hh").textContent = pad(hours);
  $("mm").textContent = pad(mins);
  $("ss").textContent = pad(secs);
}

function fillTimeline(){
  const timeline = [
    { time: "5:00 PM",  title: "Ceremony",          note: "Church service" },
    { time: "6:30 PM",  title: "Reception Arrival", note: "Villa — La Novia" },
    { time: "6:45 PM",  title: "Welcome Drinks",    note: "Guests reception" },
    { time: "7:15 PM",  title: "Grand Entrance",    note: "Zaffa" },
    { time: "7:30 PM",  title: "Dancing",           note: "Let the party begin" },
    { time: "8:15 PM",  title: "Champagne Moment",  note: "A toast to the night" },
    { time: "8:45 PM",  title: "Dinner Buffet",     note: "Buffet opens" },
    { time: "10:00 PM", title: "Surprise Dance",    note: "A special performance" },
    { time: "10:30 PM", title: "Memories & Photos", note: "Lots of photos together" }
  ];

  const t = $("timeline");
  t.innerHTML = "";
  timeline.forEach(item=>{
    const row = document.createElement("div");
    row.className = "row";
    row.innerHTML = `
      <div class="time">${item.time}</div>
      <div class="desc">
        <b>${item.title}</b>
        <span>${item.note||""}</span>
      </div>
    `;
    t.appendChild(row);
  });
}

/* ===== Smooth scroll navigation ===== */
function initNavButtons(){
  document.querySelectorAll("[data-goto]").forEach(btn=>{
    btn.addEventListener("click", ()=>{
      const id = btn.getAttribute("data-goto");
      const el = document.getElementById(id);
      if(el) el.scrollIntoView({behavior:"smooth", block:"start"});
    });
  });
}

/* ===== Guest personalization (?g=Name) ===== */
function initGuest(){
  const url = new URL(window.location.href);
  const g = url.searchParams.get("g");
  const pill = $("guestPill");
  if(g && g.trim()){
    pill.textContent = `Private Invitation for ${g.trim()}`;
  } else {
    pill.textContent = "Private Invitation";
  }
}

/* ===== Music control (mobile-friendly) ===== */
function initMusic(){
  const audio = $("bgm");
  const src = document.getElementById("bgmSrc");
  const btn = $("musicToggle");
  const led = $("musicLed");
  const text = $("musicText");

  if(MUSIC_URL && MUSIC_URL.trim()){
    src.src = MUSIC_URL.trim();
    audio.load();
    btn.style.display = "flex";
  }else{
    btn.style.display = "none";
    return;
  }

  const setUI = (playing)=>{
    led.classList.toggle("on", playing);
    text.textContent = playing ? "Pause Music" : "Play Music";
  };

  btn.addEventListener("click", async ()=>{
    try{
      if(audio.paused){
        await audio.play();
        setUI(true);
      }else{
        audio.pause();
        setUI(false);
      }
    }catch(e){
      setUI(false);
      alert("Tap again to start the music.");
    }
  });

  audio.addEventListener("pause", ()=>setUI(false));
  audio.addEventListener("play", ()=>setUI(true));
  setUI(false);
}

/* Init */
(function init(){
  $("todayPill").textContent = new Date().toLocaleDateString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit"});
  $("miniSeal").textContent = "M";
  $("btnAddCalendar").href = buildCalendarLink();

  const {dayName, dateStr} = formatDateParts(EVENT_ISO);
  $("dateText").textContent = dateStr;
  $("dayText").textContent = dayName;

  fillTimeline();
  updateCountdown();
  setInterval(updateCountdown, 1000);

  initNavButtons();
  initGuest();
  initMusic();
})();
</script>

</body>
</html>
